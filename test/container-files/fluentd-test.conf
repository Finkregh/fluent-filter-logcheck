# Generate test messages - one that should be ignored, one that should pass through
<source>
  @type sample
  sample [
    {"message":"Dec 10 10:53:41 testhost sshd-session[12345]: fatal: recv_rexec_state: ssh_msg_recv failed"},
    {"message":"Dec 10 10:53:42 testhost someapp[67890]: fatal: some other message"}
  ]
  tag example-logcheck.ignore
  rate 2
  auto_increment_key seq
</source>

<filter example-logcheck.ignore>
  @type logcheck
  # sshd-session\[[[:digit:]]+\]: fatal: recv_rexec_state: ssh_msg_recv failed
  rules_file /etc/fluent/logcheck/ignore.d.server/test-ssh_msg_recv
</filter>

<match *.**>
  @type copy

  <store>
    @type stdout
  </store>
</match>
